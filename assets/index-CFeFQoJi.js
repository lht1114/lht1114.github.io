import{b as M,c as w,r as t,j as e,M as y}from"./index-DWkFthFF.js";import{g as z}from"./singer-BgxdQvmw.js";function I(){var i,r,o,m,d,h,x,p,j;const l=M(),f=w(),[s,N]=t.useState({hotSongs:[]}),[v,C]=t.useState([]),[u,n]=t.useState(!1),S=a=>{f(`/singerDetail/${a}`)},g=()=>{z(l.id).then(a=>{console.log(a),N(a)})};t.useEffect(()=>{g()},[l.id]);const _=s.hotSongs.slice(0,15).map(a=>e.jsxs("div",{className:"song_list",children:[e.jsx("p",{className:"song_name",children:a.name}),e.jsx("div",{className:"singer_name flex flex-wrap",children:a.ar.map(c=>e.jsx("p",{className:"hover_line",style:{marginRight:"10px"},onClick:()=>S(c.id),children:c.name},c.id))})]},a.id)),b=e.jsx(y,{title:"关于歌手",onClose:()=>n(!1),children:(i=s==null?void 0:s.artist)==null?void 0:i.briefDesc});return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"top-content flex",style:{alignItems:"flex-start"},children:[(r=s==null?void 0:s.artist)!=null&&r.img1v1Url?e.jsx("section",{className:"avatar",children:e.jsx("img",{src:((o=s==null?void 0:s.artist)==null?void 0:o.img1v1Url)+"?param=400y400",alt:""})}):"",(m=s==null?void 0:s.artist)!=null&&m.name?e.jsxs("section",{className:"top-right",children:[e.jsx("p",{className:"name",children:(d=s==null?void 0:s.artist)==null?void 0:d.name}),e.jsxs("div",{className:"info flex",children:[e.jsxs("p",{className:"list hover_line",children:[(h=s==null?void 0:s.artist)==null?void 0:h.musicSize,"首歌"]}),e.jsxs("p",{className:"list hover_line",children:[(x=s==null?void 0:s.artist)==null?void 0:x.albumSize,"张专辑"]}),e.jsxs("p",{className:"hover_line",children:[(p=s==null?void 0:s.artist)==null?void 0:p.mvSize,"个MV"]})]}),e.jsx("p",{className:"desc hidden_3",onClick:()=>{n(!0)},children:(j=s==null?void 0:s.artist)==null?void 0:j.briefDesc})]}):""]}),s.hotSongs.length>0?e.jsxs("section",{className:"public-header flex justify-between",children:[e.jsx("p",{className:"title",children:"热门歌曲"}),e.jsx("p",{className:"more hover_line",children:s.more?"查看更多":""})]}):"",e.jsx("div",{className:"flex",style:{flexWrap:"wrap"},children:_}),v.length>0?e.jsxs("section",{className:"public-header flex justify-between",children:[e.jsx("p",{className:"title",children:"Mvs"}),e.jsx("p",{className:"more hover_line",children:s.more?"查看更多":""})]}):"",e.jsx(e.Fragment,{children:u?b:""})]})}export{I as default};
