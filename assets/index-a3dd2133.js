import{a as T,b as M}from"./playlist-49ac6831.js";import{P as N}from"./PlayListItem-daabc9b1.js";import{_ as w,a as t,o as D,b as H,c as n,d as u,e as m,F as h,h as L,f as l,j as x,w as I,Q as V,B as j,t as A,i as F}from"./index-f21bb9dc.js";const z={class:"playlist_container"},E={class:"top_content flex align-center flex-wrap"},Q=["onClick"],S={class:"play_content grid grid-column-10"},$={class:"more_content flex align-center justify-center"},q={__name:"index",setup(G){const r=t(!1),_=t(0),g=t("全部"),f=t(""),y=t([]),s=t([]),b=t(0),d=t(!1),p=t(!1);function k(){T({}).then(e=>{y.value=e.tags})}function v({spin:e=!1,loading:o=!1}){e&&(p.value=!0),o&&(r.value=!0),M({cat:g.value,before:f.value,limit:50}).then(a=>{console.log(a),e&&(s.value=[]),s.value=[...s.value,...a.playlists],b.value=a.total,r.value=!1,p.value=!1,d.value=a.more,f.value=a.playlists[a.playlists.length-1].updateTime})}function C(e,o){_.value!==o&&(d.value=!1,B(),g.value=e.name,_.value=o,f.value="",v({spin:!0}))}function P(){v({spin:!1,loading:!0})}function B(){s.value=[];for(let e=0;e<10;e++)s.value.push({})}return D(()=>{k(),v({spin:!0})}),(e,o)=>{const a=H("a-button");return n(),u("div",z,[m("div",E,[(n(!0),u(h,null,L(l(y),(c,i)=>(n(),u("div",{class:j(["small_btn",l(_)===i?"small_btn_active":""]),key:i,onClick:J=>C(c,i)},A(c.name),11,Q))),128))]),m("div",S,[(n(!0),u(h,null,L(l(s),(c,i)=>(n(),x(N,{itemData:c,loading:l(p),key:i},null,8,["itemData","loading"]))),128))]),m("div",$,[l(d)?(n(),x(a,{key:0,onClick:P,loading:l(r)},{default:I(()=>[F("加载更多")]),_:1},8,["loading"])):V("",!0)])])}}},U=w(q,[["__scopeId","data-v-ff2c43ab"]]);export{U as default};
