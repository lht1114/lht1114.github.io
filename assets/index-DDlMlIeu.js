import{_ as $,i as f,r as o,C as k,k as E,c as A,j as t,l as z,m as P,n as w,b as _}from"./index-DTkg-yWw.js";import{a as I}from"./singer-B3mbOJo3.js";function q(a,e){var c=$({},a);return Array.isArray(e)&&e.forEach(function(r){delete c[r]}),c}const M=a=>{const{prefixCls:e,className:c,style:r,size:i,shape:n}=a,m=f({[`${e}-lg`]:i==="large",[`${e}-sm`]:i==="small"}),d=f({[`${e}-circle`]:n==="circle",[`${e}-square`]:n==="square",[`${e}-round`]:n==="round"}),l=o.useMemo(()=>typeof i=="number"?{width:i,height:i,lineHeight:`${i}px`}:{},[i]);return o.createElement("span",{className:f(e,m,d,c),style:Object.assign(Object.assign({},l),r)})},O=M,D=a=>{const{prefixCls:e,className:c,rootClassName:r,active:i,shape:n="circle",size:m="default"}=a,{getPrefixCls:d}=o.useContext(k),l=d("skeleton",e),[u,g,x]=E(l),p=q(a,["prefixCls","className"]),v=f(l,`${l}-element`,{[`${l}-active`]:i},c,r,g,x);return u(o.createElement("div",{className:v},o.createElement(O,Object.assign({prefixCls:`${l}-avatar`,shape:n,size:m},p))))},V=D;function H(a){const e=a.items,c=A(),r=()=>{c(`/singerDetail/${e.id}`)},i=t.jsxs("div",{onClick:()=>r(),children:[t.jsx("section",{className:"img_content",children:t.jsx(z.LazyLoadImage,{className:"img",src:(e==null?void 0:e.img1v1Url)+"?param=300y300",alt:e.name})}),t.jsx("p",{className:"name hover_line",children:e==null?void 0:e.name})]}),n=t.jsx("div",{className:"padding-100",children:t.jsx(V,{active:!0})});return t.jsx("div",{className:"singerList-container",children:e.name?i:n})}function U(){const[a,e]=P(),[c,r]=o.useState(!1);w(),_();const[i,n]=o.useState([{},{},{},{},{},{},{},{},{}]),[m,d]=o.useState(20);let l=a.get("type")||"-1",u=a.get("area")||"-1",g=a.get("initial")||"热门",x=Number(a.get("offset"))||0;const p=[{name:"全部",value:"-1"},{name:"男歌手",value:"1"},{name:"女歌手",value:"2"},{name:"乐队",value:"3"}],v=[{name:"全部",value:"-1"},{name:"华语",value:"7"},{name:"欧美",value:"96"},{name:"日本",value:"8"},{name:"韩国",value:"16"},{name:"其他",value:"0"}],j=["热门","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#"],C=()=>{I({limit:m,offset:x,initial:a.get("initial")=="热门"?"-1":a.get("initial")=="#"?"0":a.get("initial"),type:a.get("type"),area:a.get("area")}).then(s=>{if(c){let h=[...i,...s.artists];n(h)}else n(s.artists);r(s.more||!1)})},N=s=>{n([]),e({type:s.value,area:u,initial:g,offset:0})},y=s=>{n([]),e({type:l,area:s.value,initial:g,offset:0})},S=s=>{n([]),e({type:l,area:u,initial:s,offset:0})},L=()=>{console.log("记载更多"),x+=m,e({type:l,area:u,initial:g,offset:x})};o.useEffect(()=>{r(!1),e({type:l,area:u,initial:g,offset:x}),C()},[a]);const b=i.map((s,h)=>t.jsx(H,{items:s},h));return t.jsxs("div",{className:"page-container",children:[t.jsxs("section",{className:"list flex flex-wrap",children:[t.jsx("label",{children:"类型:"}),p.map(s=>t.jsx("div",{className:s.value===a.get("type")?"isActive list-item":"list-item",onClick:()=>N(s),children:s.name},s.value))]}),t.jsxs("section",{className:"list flex flex-wrap",children:[t.jsx("label",{children:"区域:"}),v.map(s=>t.jsx("div",{className:s.value===a.get("area")?"isActive list-item":"list-item",onClick:()=>y(s),children:s.name},s.value))]}),t.jsxs("section",{className:"list flex flex-wrap",children:[t.jsx("label",{children:"序号:"}),j.map(s=>t.jsx("div",{className:s===a.get("initial")?"isActive list-item":"list-item",onClick:()=>S(s),children:s},s))]}),t.jsx("div",{className:"playList-content",children:b}),c?t.jsx("div",{onClick:L,className:"more_btn",children:"查看更多"}):""]})}export{U as default};
