import{_ as D,m as I,u as N,a as n,o as V,b as d,z,c as a,d as f,e as l,t as g,f as t,g as A,w as y,j as h,Q as w,a2 as L,a3 as M,F as j,h as R,A as S,i as E}from"./index-f21bb9dc.js";const Q={class:"userBase_container"},T={class:"grid grid-column-10"},$=["onClick"],G={alt:""},H={class:"more_content flex align-center justify-center"},J={__name:"index",setup(K){const o=I(),x=N(),s=n([]),v=n(!1),u=n(!1),c=n(30),r=n(0),i=n(!1);function m(){L({uid:o.query.uid,limit:c.value,offset:r.value}).then(e=>{console.log("关注",e),s.value=[...s.value,...e.follow],u.value=e.more,i.value=!1})}function p(){M({uid:o.query.uid,limit:c.value,offset:r.value}).then(e=>{console.log("粉丝",e),s.value=[...s.value,...e.followeds],u.value=e.more,i.value=!1})}function k(e){x.push({path:"/userDetail",query:{id:e.userId}})}function q(){i.value=!0,r.value+=c.value,o.query.num==="1"?m():p()}return V(()=>{console.log(o.query.num),o.query.num==="1"?m():p()}),(e,O)=>{const C=d("a-spin"),F=d("a-button"),U=d("a-empty"),b=z("lazyImg");return a(),f("div",Q,[l("h2",null,g(t(o).query.num==="1"?"关注":"粉丝")+"列表",1),A(C,{class:"spin",spinning:t(v)},{default:y(()=>[l("div",T,[(a(!0),f(j,null,R(t(s),(_,B)=>(a(),f("div",{key:B,class:"follow_list flex align-center",onClick:P=>k(_)},[S(l("img",G,null,512),[[b,_.avatarUrl]]),l("p",null,g(_.nickname),1)],8,$))),128))])]),_:1},8,["spinning"]),l("div",H,[t(u)?(a(),h(F,{key:0,loading:t(i),onClick:q},{default:y(()=>[E("加载更多")]),_:1},8,["loading"])):w("",!0)]),t(v)===!1&&t(s).length===0?(a(),h(U,{key:0})):w("",!0)])}}},X=D(J,[["__scopeId","data-v-d9edd56b"]]);export{X as default};
