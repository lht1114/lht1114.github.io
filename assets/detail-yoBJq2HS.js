import{b as f,r as t,c as v,j as e,M as y,g as N,d as S}from"./index-C4d1c-c6.js";import{d as b,T as L}from"./index-BOJIfbn-.js";function k(){var r;const c=f(),[s,i]=t.useState({}),[l,d]=t.useState([]),[m,o]=t.useState(!1),[h,n]=t.useState(""),u=v(),x=()=>{N(c.id).then(a=>{i(a.playlist)})},g=()=>{n("获取中"),S({id:c.id}).then(a=>{console.log(a),d(a.songs),a.songs.length===0?n("暂无数据"):n("没有更多了")}).catch(()=>{n("获取失败")})};t.useEffect(()=>{x(),g()},[c.id]);const p=()=>{u(`/userDetail/${s.creator.userId}`)},j=e.jsx(y,{title:"关于歌单",onClose:()=>o(!1),children:s==null?void 0:s.description});return e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"detail_top flex",children:[e.jsx("section",{className:"img_content",children:s.coverImgUrl?e.jsx("img",{src:(s==null?void 0:s.coverImgUrl)+"?param=500y500",alt:""}):""}),s.name?e.jsxs("section",{className:"intro-content",children:[e.jsx("p",{className:"title",children:s.name}),e.jsxs("div",{className:"info",children:[e.jsxs("p",{children:["Playlist by"," ",e.jsx("span",{className:"hover_line",onClick:()=>p(),children:(r=s==null?void 0:s.creator)==null?void 0:r.nickname})]}),e.jsxs("p",{children:["最后更新于",b(s==null?void 0:s.updateTime).format("YYYY-MM-DD")+" ","•"," "+(s==null?void 0:s.trackCount),"首歌"]})]}),e.jsxs("div",{className:"about hidden_3",onClick:()=>{o(!0)},children:["关于歌单：",(s==null?void 0:s.description)||"无"]})]}):""]}),e.jsx("div",{children:e.jsx(L,{table:l,status:h})}),e.jsx(e.Fragment,{children:m?j:""})]})}export{k as default};
