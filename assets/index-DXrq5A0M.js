import{s as x,b as j,r as t,j as e,M as p}from"./index-DTkg-yWw.js";import{d as f,T as g}from"./index-Fs51Zj7t.js";function b(a){return x({url:"/album",params:{id:a}})}function N(){const a=j(),[s,l]=t.useState({}),[o,r]=t.useState([]),[d,i]=t.useState(!1),[m,n]=t.useState(""),u=()=>{n("获取中"),b(a.id).then(c=>{l(c.album),r(c.songs),c.songs.length===0?n("暂无数据"):n("没有更多了")}).catch(()=>{n("获取失败")})},h=e.jsx(p,{title:"关于专辑",onClose:()=>i(!1),children:s==null?void 0:s.description});return t.useEffect(()=>{u()},[a.id]),e.jsxs("div",{className:"page-container",children:[e.jsxs("div",{className:"detail_top flex",children:[e.jsx("section",{className:"img_content",children:s.blurPicUrl?e.jsx("img",{src:s.blurPicUrl+"?param=500y500",alt:""}):""}),s.name?e.jsxs("section",{className:"intro-content",children:[e.jsx("p",{className:"title",children:s.name}),e.jsx("div",{className:"info",children:e.jsxs("p",{children:["发布于",f(s==null?void 0:s.publishTime).format("YYYY-MM-DD")+" ","•"," "+(s==null?void 0:s.size),"首歌"]})}),e.jsxs("div",{className:"about hidden_3",onClick:()=>{i(!0)},children:["关于专辑：",(s==null?void 0:s.description)||"无"]})]}):""]}),e.jsx("div",{children:e.jsx(g,{table:o,status:m})}),e.jsx(e.Fragment,{children:d?h:""})]})}export{N as default};
